<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<div id="map-container" style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>

<div id="dialog-form" title="Create new user">
  <p class="validateTips">All form fields are required.</p>
 
  <form>
    <fieldset>
      <label for="address">Address</label>
      <input type="text" name="address" id="address" class="text ui-widget-content ui-corner-all">
      <label for="city">City</label>
      <input type="text" name="city" id="city" class="text ui-widget-content ui-corner-all">
      <label for="state">City</label>
      <select name="state" id="state">
				<option value="AL">Alabama</option>
				<option value="AK">Alaska</option>
				<option value="AZ">Arizona</option>
				<option value="AR">Arkansas</option>
				<option value="CA">California</option>
				<option value="CO">Colorado</option>
				<option value="CT">Connecticut</option>
				<option value="DE">Delaware</option>
				<option value="DC">District Of Columbia</option>
				<option value="FL">Florida</option>
				<option value="GA">Georgia</option>
				<option value="HI">Hawaii</option>
				<option value="ID">Idaho</option>
				<option value="IL">Illinois</option>
				<option value="IN">Indiana</option>
				<option value="IA">Iowa</option>
				<option value="KS">Kansas</option>
				<option value="KY">Kentucky</option>
				<option value="LA">Louisiana</option>
				<option value="ME">Maine</option>
				<option value="MD">Maryland</option>
				<option value="MA">Massachusetts</option>
				<option value="MI">Michigan</option>
				<option value="MN">Minnesota</option>
				<option value="MS">Mississippi</option>
				<option value="MO">Missouri</option>
				<option value="MT">Montana</option>
				<option value="NE">Nebraska</option>
				<option value="NV">Nevada</option>
				<option value="NH">New Hampshire</option>
				<option value="NJ">New Jersey</option>
				<option value="NM">New Mexico</option>
				<option value="NY">New York</option>
				<option value="NC">North Carolina</option>
				<option value="ND">North Dakota</option>
				<option value="OH">Ohio</option>
				<option value="OK">Oklahoma</option>
				<option value="OR">Oregon</option>
				<option value="PA">Pennsylvania</option>
				<option value="RI">Rhode Island</option>
				<option value="SC">South Carolina</option>
				<option value="SD">South Dakota</option>
				<option value="TN">Tennessee</option>
				<option value="TX">Texas</option>
				<option value="UT">Utah</option>
				<option value="VT">Vermont</option>
				<option value="VA">Virginia</option>
				<option value="WA">Washington</option>
				<option value="WV">West Virginia</option>
				<option value="WI">Wisconsin</option>
				<option value="WY">Wyoming</option>
			</select>	
      <label for="zip">Zip</label>
      <input type="text" name="zip" id="zip" class="text ui-widget-content ui-corner-all">
 
      <!-- Allow form submission with keyboard without duplicating the dialog button -->
      <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
    </fieldset>
  </form>
</div>

<script type="text/javascript">
	var address = $( "#address" );
  var city = $( "#city" );
  var state = $( "#state" );
  var zip = $( "#zip" );
	var allFields = $( [] ).add( address ).add( city ).add( state ).add( zip );
	var dialog = $( "#dialog-form" ).dialog({
	autoOpen: false,
	modal: true,
	buttons: {
    "Submit": function() {
    	generateCoordinates(dialog)
    },
    Cancel: function() {
      dialog.dialog( "close" );
    }
  },
  close: function() {
    allFields.removeClass( "ui-state-error" );
  }
});
</script>

<script type="text/javascript">
  initializeMap('<%= @playlists %>');
	addPlaylistMarkers('<%= @playlists %>');
</script>
